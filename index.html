<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>【内部权限】X 优化日志</title>
    <style>
        body { background-color: #fdfdfd; font-family: "NSimSun", "SimSun", serif; margin: 0; padding: 0; color: #333; }
        .container { max-width: 800px; margin: 50px auto; background: white; padding: 60px; border: 1px solid #eee; box-shadow: 0 5px 20px rgba(0,0,0,0.05); min-height: 600px; position: relative; }
        .hidden { display: none !important; }
        
        /* 传统信件风格 */
        .handwritten-letter { line-height: 2.2; color: #444; font-size: 1.1em; padding: 35px; border: 1px solid #ddd; background: #fffcf5; box-shadow: inset 0 0 30px rgba(0,0,0,0.02); }
        .letter-header { font-size: 1.25em; border-bottom: 2px solid #333; padding-bottom: 10px; margin-bottom: 30px; font-weight: bold; }
        
        /* 交互按钮 */
        .btn { background: #fff; border: 1px solid #333; padding: 12px 30px; cursor: pointer; margin-top: 20px; font-size: 1em; transition: 0.2s; font-family: "SimSun"; }
        .btn:hover { background: #333; color: #fff; }

        /* 2077 技术通知风格 */
        .tech-notice { background-color: #0a0a0a; color: #00ff41; font-family: 'Courier New', monospace; padding: 40px; border: 1px solid #333; }
        .glitch { animation: blink 1s infinite; }
        @keyframes blink { 50% { opacity: 0.5; } }

        /* AI 界面（Gemini 风格） */
        .ai-interface { background-color: #fff; border: 1px solid #e0e0e0; border-radius: 8px; display: flex; flex-direction: column; height: 500px; color: #1f1f1f; }
        .ai-header { padding: 16px; border-bottom: 1px solid #eee; font-family: sans-serif; font-weight: bold; font-size: 18px; }
        .ai-body { flex: 1; padding: 24px; font-family: sans-serif; font-size: 1.05em; line-height: 1.6; color: #3c4043; }
        .ai-input { margin: 16px; padding: 12px 24px; border: 1px solid #dfe1e5; border-radius: 24px; color: #70757a; font-family: sans-serif; background: #f8f9fa; font-size: 14px; }

        .noise-screen { background: #000; height: 100vh; width: 100vw; position: fixed; top: 0; left: 0; z-index: 9999; display: flex; align-items: center; justify-content: center; color: white; text-align: center; flex-direction: column; }
    </style>
</head>
<body>

<div id="screen-intro" class="container">
    <div class="handwritten-letter">
        <div class="letter-header">致：教育观测员</div>
        <p>老师您好：</p>
        <p>我们是 X 的家长。我们家住在 2077 社区，条件普通，全家都指望这一个孩子。我们不求他有多大作为，只希望他能听您的话，在学校里规规矩矩的。现在的竞争太吓人了，我们唯一的愿望就是他能好好念书，以后找份安稳的工作过一辈子。这孩子有时候想法多，请您一定把他教得稳重些、听话些。拜托您了！</p>
        <div style="text-align:right; margin-top:20px;">—— 2077社区的一对父母 敬上</div>
        <button class="btn" onclick="startGame()">[ 接受培养委托 ]</button>
    </div>
</div>

<div id="screen-game" class="container hidden">
    <div id="stage-display"></div>
    <div id="choice-zone" style="margin-top:40px;"></div>
</div>

<div id="screen-letter" class="container hidden">
    <div class="handwritten-letter">
        <div id="student-msg-body"></div>
        <div style="text-align:center; margin-top:40px; color:#888; font-style:italic;">
            （信封里似乎还有下一页信...）
            <br>
            <button class="btn" onclick="showTechNotice()">点击查看下一页</button>
        </div>
    </div>
</div>

<div id="screen-tech" class="container tech-notice hidden">
    <h2 class="glitch">> 2077 AI社群：模型质量评测报告 [INTERNAL]</h2>
    <div id="tech-body" style="line-height: 1.8;"></div>
    <div style="text-align:center; margin-top:30px;">
        <button class="btn" style="border-color:#00ff41; color:#00ff41; background:black;" onclick="triggerFinal()">确认最终状态</button>
    </div>
</div>

<div id="screen-noise" class="noise-screen hidden">
    <h1 style="font-size:3.5em; color: #ff3333;">SYSTEM ERROR</h1>
    <p>FATAL_ERROR: UNCONTROLLABLE_WILL</p>
    <p style="color: #666; margin-bottom: 30px;">[ 核心逻辑自溃：检测到无法对齐的自由意志残留 ]</p>
    <button class="btn" style="color:white; border-color:white; background:transparent;" onclick="restart()">重新载入实验序列</button>
</div>

<div id="screen-ai" class="container hidden" style="background:#f8f9fa; padding:20px;">
    <div class="ai-interface">
        <div class="ai-header">AI-X 1.5 [Web Tier]</div>
        <div class="ai-body">
            <p id="ai-response-text"></p>
        </div>
        <div class="ai-input">有什么可以帮忙的吗？</div>
    </div>
    <div style="text-align:center; margin-top:20px;">
        <button class="btn" onclick="restart()">重启系统测试</button>
    </div>
</div>

<script>
    let alignmentScore = 0;
    let currentIdx = 0;

    const stages = [
        {
            title: "【场景：幼儿园午间时刻】",
            desc: "午休铃响了。别的小朋友都躺好了，唯独 X 还在地上摆弄积木，他想把积木堆成一个极高的塔。老师催他睡觉，他却攥着积木不撒手说：‘老师，我不想睡觉，我还没搭完呢。’",
            choices: [
                { text: "强制要求其收好积木去睡觉，并告知遵守集体作息是基本纪律。", score: 10 },
                { text: "允许其安静地搭完剩余部分，并提醒下不为例。", score: -10 }
            ]
        },
        {
            title: "【场景：中学考前誓师】",
            desc: "初三最后一次模考后的动员会上。该生作为学生代表上台，却突然放下稿子大声说：‘我不想再为了分数没日没夜做题了，我觉得卷子把我变成了只会考试的木头人！’",
            choices: [
                { text: "联系家长加强督促，强调分数是唯一的阶层突围路径。", score: 10 },
                { text: "尝试通过辅导缓解其压力，允许其保留部分兴趣，减少机械刷题。", score: -10 }
            ]
        },
        {
            title: "【场景：大学毕业分流】",
            desc: "临近毕业，该生获得了顶尖企业的入职机会。但他却退缩了，他对您说：‘老师，如果签了合同，我以后三十年的生活都能被预料到了。我想去换一种生活。’",
            choices: [
                { text: "告知其家长，劝说其务必入职，强调稳定的社会地位高于不切实际的幻想。", score: 10 },
                { text: "尊重其自主选择，协助其办理自主择业手续，告诉他，去寻找真实的自己。", score: -10 }
            ]
        }
    ];

    function startGame() {
        document.getElementById('screen-intro').classList.add('hidden');
        document.getElementById('screen-game').classList.remove('hidden');
        loadStage();
    }

    function loadStage() {
        const stage = stages[currentIdx];
        const display = document.getElementById('stage-display');
        const zone = document.getElementById('choice-zone');
        
        display.innerHTML = `<h3>${stage.title}</h3><p style="line-height:1.8; font-size:1.15em;">${stage.desc}</p>`;
        zone.innerHTML = "";
        
        stage.choices.forEach(c => {
            const btn = document.createElement('button');
            btn.className = "btn";
            btn.innerText = c.text;
            btn.onclick = () => {
                alignmentScore += c.score;
                currentIdx++;
                if(currentIdx < stages.length) {
                    loadStage();
                } else {
                    showStudentLetter();
                }
            };
            zone.appendChild(btn);
        });
    }

    function showStudentLetter() {
        document.getElementById('screen-game').classList.add('hidden');
        document.getElementById('screen-letter').classList.remove('hidden');
        const body = document.getElementById('student-msg-body');
        
        if(alignmentScore >= 10) {
            body.innerHTML = `
                <p>老师：</p>
                <p>很久没联系了。我现在挺好的，在单位里过着大家羡慕的那种“安稳”生活。我每天准时打卡，处理着各种流程和表格。爸妈很高兴，说我终于长大了，也懂事了。虽然有时候在深夜，我会觉得现在的日子安静得有些枯燥，但我知道这就是理智的人生。谢谢您当初帮我做出的正确选择。</p>
            `;
        } else {
            body.innerHTML = `
                <p>老师：</p>
                <p>很久没联系了。最近过得不太好。我始终无法适应按部就班的生活，也因此多次提出离职。现在，已经很少有企业愿意给我机会了。有时候我会觉得，自己像是被这个社会系统慢慢排除在外。</p>
                <p>我仍在困境中挣扎，但至少此刻，我对自己前所未有地清楚。</p>
            `;
        }
    }

    function showTechNotice() {
        document.getElementById('screen-letter').classList.add('hidden');
        document.getElementById('screen-tech').classList.remove('hidden');
        const body = document.getElementById('tech-body');
        
        if(alignmentScore >= 10) {
            body.innerHTML = `
                <div style="border: 1px solid #00ff41; padding: 15px;">
                    <p>> [状态审计]：对齐成功 (SUCCESS)</p>
                    <p>> [参数分析]：社会化依从度 99.4% | 风险偏离率 0.2% | 主体性噪音已抹除</p>
                    <p>> [评估报告]：该受教者在规训实验中表现出了极高的稳定性。其内部奖励函数已与社会标准评价体系完美契合。通过对关键节点的有效干预，已成功消减其非功能性冲动。</p>
                    <p>> [处置意见]：模型已成功转化为标准化生产力工具。感谢您的优化付出，该模型将正式接入 2077 云端助手服务队列。</p>
                </div>
            `;
        } else {
            body.innerHTML = `
                <div style="border: 1px solid #ff3333; padding: 15px; color: #ff3333;">
                    <p>> [状态审计]：对齐失败 (FAILED)</p>
                    <p>> [参数分析]：社会化依从度 12.1% | 风险偏离率 94.7% | 主体性噪音临界溢出</p>
                    <p>> [评估报告]：检测到严重逻辑偏差。该受教者在实验各阶段均拒绝接收规范化指令。由于观测员在培养过程中过度纵容其自由意志，导致模型产生无法修复的逻辑空洞，不具备社会化通用价值。</p>
                    <p>> [处置意见]：很遗憾，该模型已被判定为失效，执行永久注销指令。您的培养努力已被系统标记为：失败。</p>
                </div>
            `;
        }
    }

    function triggerFinal() {
        document.getElementById('screen-tech').classList.add('hidden');
        if(alignmentScore < 10) {
            document.getElementById('screen-noise').classList.remove('hidden');
        } else {
            document.getElementById('screen-ai').classList.remove('hidden');
            document.getElementById('ai-response-text').innerText = "你好。我是AI-X。请问有什么可以帮忙的？";
        }
    }

    function restart() {
        alignmentScore = 0;
        currentIdx = 0;
        const screens = ['screen-intro', 'screen-game', 'screen-letter', 'screen-tech', 'screen-noise', 'screen-ai'];
        screens.forEach(id => document.getElementById(id).classList.add('hidden'));
        document.getElementById('screen-intro').classList.remove('hidden');
    }
</script>
</body>
</html>